<h3 class="pagetop">Søk</h3>
<ul class="nav nav-tabs">
	<li role="presentation" data-ng-class="{ active: isTabSet('current') }"><a
		href="#/search/current">Gjeldende</a></li>
	<li role="presentation" data-ng-class="{ active: isTabSet('lists') }"><a
		href="#/search/lists">Lister</a></li>
	<li role="presentation" data-ng-class="{ active: isTabSet('newest') }"><a
		href="#/search/newest">nyeste</a></li>
	<li role="presentation" data-ng-class="{ active: isTabSet('simple') }"><a
		href="#/search/simple">Enkel søk</a></li>
	<li role="presentation" data-ng-class="{ active: isTabSet('advansed') }"><a
		href="#/search/advansed">Avansert søk</a></li>
</ul>
<div class="small-spacer"> </div>
<div data-ng-show="isTabSet('current')">
Viser de notene som det øves på for tiden.... Snart
</div>
<div data-ng-show="isTabSet('lists')">
her kommer en mulighet for å søke på noter tilhørende en gitt liste.
</div>
<div data-ng-show="isTabSet('newest')">
Viser de notene som er registrert de siste x dagene. (kommer snart)
</div>
<div data-ng-show="isTabSet('simple')">
	<form class="form-inline">
<!-- 		<div class="form-group"> -->
			<label for="title" class="control-label">Tittel</label>
			<div style="width: 60%" class="input-group">
				<input  type="text" class="form-control" id="title" data-ng-model="title"
					placeholder="Angi deler av en tittel, kan godt være midt i et sted">
				<span class="input-group-btn">
					<button class="btn btn-default" type="button" data-container="body" data-toggle="popover" data-placement="top"
					 data-trigger="focus"
					title="Hjelp for søk" data-content="Du kan søke på hele eller deler av en tittel. Det kan være starten på tittelen eller midt i. Søk med alt fra en bokstav til hele tittelen. Finner du ikke det du leter etter bruk færre bokstaver.">
						<span class='glyphicon glyphicon-question-sign' aria-hidden='true'></span>
					</button>
				<button type="submit" class="btn btn-default" data-ng-click="searchSimple()">Søk</button>
				</span>
			</div>
<!-- 			<div class=""> -->
<!-- 			</div> -->
<!-- 		</div> -->
	</form>
</div>
<div data-ng-show="isTabSet('advansed')">
Her kommer det avansert søk med mange muligheter.
</div>
<div class="small-spacer"> </div>

<div data-cg-busy="{promise:getPromise,message:'Søker ...'}" id="searchResult">
	<h4 class="sub-heading">Søkeresultat</h4>
	<div data-ng-show="hasResult() &&  sheetList.length === 0">Fant desverre ingen noter som passer til søket</div>
<!-- 	<div data-ng-show="hasResult()" class="form-inline"> -->
<!-- 		<label for="search" class="control-label">Filter</label> -->
<!-- 		<input type="text" class="form-control" data-ng-model="search" placeholder="filtrer resultatet"> -->
<!-- 	</div> -->
	<div data-ng-show="hasResult()">
		<div class="row listHeading">
			<div class="col-md-4"><a class="listHeading" data-ng-click="setSort('sheet.title')">Tittel</a> <span data-ng-show="predicate === 'sheet.title'" class="glyphicon" data-ng-class="reverse ? 'glyphicon-triangle-bottom' : 'glyphicon-triangle-top'" aria-hidden="true"></span></div>
			<div class="col-md-4"><a class="listHeading" data-ng-click="setSort('sheet.composedBy')">Komponist</a> <span data-ng-show="predicate === 'sheet.composedBy'" class="glyphicon" data-ng-class="reverse ? 'glyphicon-triangle-bottom' : 'glyphicon-triangle-top'" aria-hidden="true"></span></div>
			<div class="col-md-3"><a class="listHeading" data-ng-click="setSort('sheet.arrangedBy')">Arrangør</a> <span data-ng-show="predicate === 'sheet.arrangedBy'" class="glyphicon" data-ng-class="reverse ? 'glyphicon-triangle-bottom' : 'glyphicon-triangle-top'" aria-hidden="true"></span></div>
		</div>
	</div>
	<div data-ng-show="hasResult()"
		data-ng-repeat="sheetData in sheetList | orderBy:predicate:reverse" 
		data-ng-class-odd="'listodd'" data-ng-class-even="'listEven'"
		data-ng-class="{expanded: sheetData.expanded}">
<!-- 		data-ng-repeat="sheetData in getSheetList() | filter: {sheet: {title :search}}"> -->
		<div   class="row sheetHeading"
			data-toggle="collapse" data-target="{{ '#sheetInfo-' + $index }}" aria-expanded="false"
			aria-controls="{{ 'sheetInfo-' + $index }}">
			<div class="col-md-4">{{sheetData.sheet.title}}</div>
			<div class="col-md-4">{{sheetData.sheet.composedBy}}</div>
			<div class="col-md-4">{{sheetData.sheet.arrangedBy}}</div>
		</div>
		<div  data-ng-class="{in: sheetData.expanded}" class="row topBorder collapse"
			id="{{ 'sheetInfo-' + $index }}" data-sheet-id="{{sheetData.sheet.noteId}}">
			<div class="col-md-12">
				<div class="col-md-5">
					<div>
						<span class="listLabel">Beskrivelse: </span>{{sheetData.sheet.description}}
					</div>
					<div>
						<span class="listLabel">Stemmer: </span>{{sheetData.sheet.voicesDescr}}
					</div>
					<div>
						<span class="listLabel">Sjanger: </span>{{sheetData.sheet.tagsDescr}}
					</div>
					<div>
						<span class="listLabel">Registrert: </span>{{sheetData.sheet.registeredDate | date:'dd.MM.yyyy
						HH:mm'}}<span class="listLabel"> av </span>{{sheetData.sheet.registeredBy}}
					</div>
					<div>
						<span class="listLabel">Note id: </span>{{sheetData.sheet.noteId}}
					</div>
					<div data-ng-show="hasAccess('AUTHOR')">
						<a class="btn btn-primary" href="#/sheets/{{sheetData.sheet.noteId}}"><span
							class="glyphicon glyphicon-edit" aria-hidden="true"></span> Endre</a>
					</div>
<!-- 					<div> -->
<!-- 						<a class="btn btn-danger" href=><span class="glyphicon glyphicon-trash" aria-hidden="true"></span> Slett</a> -->
<!-- 					</div> -->
				</div>
				<div class="col-md-7">
					<div class="listLabel">Filer</div>
					<div data-ng-repeat="file in sheetData.files" >
						<div data-ng-if="$first" class="row listHeading">
							<div class="col-xs-6"><span class="listHeading">Filnavn/KB</span></div>
							<div class="col-xs-6"><span class="listHeading">Beskrivelse/Aktivitet</span></div>
						</div>
						<div data-ng-class-odd="'listodd'" data-ng-class-even="'listEven'"  class="row sheetHeading">
							<div class="col-xs-6">{{file.name}}</div>
							<div class="col-xs-6">{{file.description}}</div>
						</div>
						<div data-ng-class-odd="'listodd'" data-ng-class-even="'listEven'"  class="row sheetHeading">
							<div class="col-xs-6">{{file.fileSize/1024|number:2}}</div>
							<div class="col-xs-6">
								<a href="rest/noteservice/notefile/{{file.fileId}}/download?authInfo={{authInfo}}" class="btn btn-primary btn-xs" role="button">
									<span class="glyphicon glyphicon-download"></span> Last ned</a>	
								<a href="rest/noteservice/notefile/{{file.fileId}}?authInfo={{authInfo}}" target="_blank" class="btn btn-primary btn-xs" role="button">
									<span class="glyphicon glyphicon-open-file"></span> Åpne</a>	
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

</div>