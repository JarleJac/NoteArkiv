<h3 class="pagetop">Søk</h3>
<ul class="nav nav-tabs">
	<li role="presentation" data-ng-class="{ active: isTabSet('current') }"><a
		href="#/search/current">Gjeldende</a></li>
	<li role="presentation" data-ng-class="{ active: isTabSet('lists') }"><a
		href="#/search/lists">Lister</a></li>
	<li role="presentation" data-ng-class="{ active: isTabSet('newest') }"><a
		href="#/search/newest">nyeste</a></li>
	<li role="presentation" data-ng-class="{ active: isTabSet('simple') }"><a
		href="#/search/simple">Enkel søk</a></li>
	<li role="presentation" data-ng-class="{ active: isTabSet('advansed') }"><a
		href="#/search/advansed">Avansert søk</a></li>
</ul>
<div class="small-spacer"> </div>
<div data-ng-show="isTabSet('current')">
Viser de notene som det øves på for tiden.... Snart
</div>
<div data-ng-show="isTabSet('lists')">
her kommer en mulighet for å søke på noter tilhørende en gitt liste.
</div>
<div data-ng-show="isTabSet('newest')">
	<form class="form-inline">
		<span>Vis de notene som er registrert de siste</span>  
			<select data-ng-model="days">
				<option value="7">7</option>
				<option value="30">30</option>
				<option value="60">60</option>
				<option value="180">180</option>
				<option value="365">365</option>
			</select>
		<span>dagene.</span>
		<button type="submit" class="btn btn-default" data-ng-click="searchNewest()">Søk</button>
	</form>
</div>
<div data-ng-show="isTabSet('simple')">
	<form class="form-inline">
<!-- 		<div class="form-group"> -->
			<label for="title" class="control-label">Tittel</label>
			<div style="width: 60%" class="input-group">
				<input  type="text" class="form-control" id="title" data-ng-model="title"
					placeholder="Angi deler av en tittel, kan godt være midt i et sted">
				<span class="input-group-btn">
					<button class="btn btn-default" type="button" data-container="body" data-toggle="popover" data-placement="top"
					 data-trigger="focus"
					title="Hjelp for søk" data-content="Du kan søke på hele eller deler av en tittel. Det kan være starten på tittelen eller midt i. Søk med alt fra en bokstav til hele tittelen. Finner du ikke det du leter etter bruk færre bokstaver.">
						<span class='glyphicon glyphicon-question-sign' aria-hidden='true'></span>
					</button>
				<button type="submit" class="btn btn-default" data-ng-click="searchSimple()">Søk</button>
				</span>
			</div>
<!-- 			<div class=""> -->
<!-- 			</div> -->
<!-- 		</div> -->
	</form>
</div>
<div data-ng-show="isTabSet('advansed')">
Her kommer det avansert søk med mange muligheter.
</div>
<div class="small-spacer"> </div>

<div data-cg-busy="{promise:getPromise,message:'Søker ...'}" id="searchResult">
	<h4 class="sub-heading">Søkeresultat</h4>
	<div data-ng-show="hasResult() &&  sheetList.length === 0">Fant desverre ingen noter som passer til søket</div>
<!-- 	<div data-ng-show="hasResult()" class="form-inline"> -->
<!-- 		<label for="search" class="control-label">Filter</label> -->
<!-- 		<input type="text" class="form-control" data-ng-model="search" placeholder="filtrer resultatet"> -->
<!-- 	</div> -->
	<div data-ng-show="hasResult()">
		<div class="row listHeading">
			<div class="col-xs-4"><a class="listHeading" data-ng-click="setSort('sheet.title')">Tittel</a> <span data-ng-show="predicate === 'sheet.title'" class="glyphicon" data-ng-class="reverse ? 'glyphicon-triangle-bottom' : 'glyphicon-triangle-top'" aria-hidden="true"></span></div>
			<div class="col-xs-4"><a class="listHeading" data-ng-click="setSort('sheet.composedBy')">Komponist</a> <span data-ng-show="predicate === 'sheet.composedBy'" class="glyphicon" data-ng-class="reverse ? 'glyphicon-triangle-bottom' : 'glyphicon-triangle-top'" aria-hidden="true"></span></div>
			<div class="col-xs-4"><a class="listHeading" data-ng-click="setSort('sheet.arrangedBy')">Arrangør</a> <span data-ng-show="predicate === 'sheet.arrangedBy'" class="glyphicon" data-ng-class="reverse ? 'glyphicon-triangle-bottom' : 'glyphicon-triangle-top'" aria-hidden="true"></span></div>
		</div>
	</div>
	<div data-ng-show="hasResult()"
		data-ng-repeat="sheetData in sheetList | orderBy:predicate:reverse" 
		data-ng-class-odd="'listodd'" data-ng-class-even="'listEven'"
		data-ng-class="{expanded: sheetData.expanded}">
<!-- 		data-ng-repeat="sheetData in getSheetList() | filter: {sheet: {title :search}}"> -->
		<div   class="row sheetHeading" 
			data-ng-class-odd="{expandedHeadingOdd: sheetData.expanded}" data-ng-class-even="{expandedHeadingEven: sheetData.expanded}"  
			data-toggle="collapse" data-target="{{ '#sheetInfo-' + $index }}" aria-expanded="false"
			aria-controls="{{ 'sheetInfo-' + $index }}">
			<div class="col-xs-4">{{sheetData.sheet.title}}</div>
			<div class="col-xs-4">{{sheetData.sheet.composedBy}}</div>
			<div class="col-xs-4">{{sheetData.sheet.arrangedBy}}</div>
		</div>
		<div  data-ng-class="{in: sheetData.expanded}" class="row topBorder collapse"
			id="{{ 'sheetInfo-' + $index }}" data-sheet-id="{{sheetData.sheet.noteId}}">
			<div class="col-xs-12">
				<div>
					<span class="listLabel">Beskrivelse: </span>{{sheetData.sheet.description}}
				</div>
			</div>
			<div class="col-xs-6">
				<div>
					<span class="listLabel">Stemmer: </span>{{sheetData.sheet.voicesDescr}}
				</div>
				<div>
					<span class="listLabel">Note id: </span>{{sheetData.sheet.noteId}}
					<span class="listLabel"> Registrert: </span>{{sheetData.sheet.registeredDate | date:'dd.MM.yyyy
					HH:mm'}}<span class="listLabel"> av </span>{{sheetData.sheet.registeredBy}}
				</div>
			</div>
			<div class="col-xs-6">
				<div>
					<span class="listLabel">Sjanger: </span>{{sheetData.sheet.tagsDescr}}
				</div>
				<div data-ng-show="hasAccess('AUTHOR')">
					<a class="btn btn-sm btn-primary" href="#/sheets/{{sheetData.sheet.noteId}}"><span
						class="glyphicon glyphicon-edit" aria-hidden="true"></span> Endre</a>
				</div>
			</div>
			<div class="col-xs-12">
				<div data-ng-show="sheetData.files.length == 0" >Det er ingen filer registrert</div>
				<div data-ng-show="sheetData.files.length > 0" >
					<div class="row"
						data-ng-class-odd="'sublistHeadingOdd'" data-ng-class-even="'sublistHeadingEven'">
						<div class="col-xs-4">Filnavn</div>
						<div class="col-xs-4">Beskrivelse</div>
						<div class="col-xs-1">KB</div>
						<div class="col-xs-3">Aktivitet</div>
					</div>
				</div>
				<div data-ng-repeat="file in sheetData.files" >
					<div data-ng-class-odd="'sublistodd'" data-ng-class-even="'sublisteven'"  class="row">
						<div class="col-xs-4">{{file.name}}</div>
						<div class="col-xs-4">{{file.description}}</div>
						<div class="col-xs-1">{{file.fileSize/1024|number:2}}</div>
						<div class="col-xs-3">
							<a href="rest/noteservice/notefile/{{file.fileId}}/download?authInfo={{authInfo}}" class="btn btn-primary btn-xs" role="button">
								<span class="glyphicon glyphicon-download"></span> Last ned</a>	
							<a href="rest/noteservice/notefile/{{file.fileId}}?authInfo={{authInfo}}" target="_blank" class="btn btn-primary btn-xs" role="button">
								<span class="glyphicon glyphicon-open-file"></span> Åpne</a>	
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

</div>