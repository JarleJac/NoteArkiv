apply plugin: 'war'

project.webAppDirName = 'WebContent'

dependencies {
	compile project(':jacJarSoft.util')
	compile project(':jacJarSoft.noteArkiv.base')
	compile project(':jacJarSoft.noteArkiv.db')
	compile libraries.cxf
	compile libraries.spring
	//compile libraries.mail
	compile libraries.jackson
	providedCompile libraries.servlet
}
def providerName = 'JacJarSoft'

war {
	manifest.attributes provider: providerName
}

task buildTest(type: War) {
	manifest.attributes provider: providerName
	webInf { from 'configurations/test' } 
	archiveName = "notearkiv-test##${version}.war"
}

task buildProd(type: War) {
	manifest.attributes provider: providerName
	webInf { from 'configurations/prod' } 
	archiveName = "notearkiv##${version}.war"
}